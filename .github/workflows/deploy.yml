name: GitHub Pages Deploy

# main ブランチへの push をトリガーに自動デプロイ
on:
  push:
    branches:
      - main    # 本番に使っているブランチ名を指定

jobs:
  deploy:
    runs-on: ubuntu-latest
    # Secrets → GITHUB_TOKEN はリポジトリ作成時に自動で用意される
    steps:
      # リポジトリをチェックアウト
      - uses: actions/checkout@v3

      # Pages 用に環境をセットアップ
      - uses: actions/configure-pages@v3

      # デプロイ対象ディレクトリをアップロード
      - uses: actions/upload-pages-artifact@v1
        with:
          # 静的ファイルを配置しているフォルダを指定
          path: './'         # ルート直下なら './'。public や docs を使っている場合は './public' や './docs' に置き換えてください。

      # 実際に GitHub Pages にデプロイ
      - id: deploy-pages
        uses: actions/deploy-pages@v1

      # （オプション）ページ URL を出力
      - run: echo "🎉 Deployed to ${{ steps.deploy-pages.outputs.page_url }}"
