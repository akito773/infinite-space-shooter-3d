name: GitHub Pages Deploy

# main ãƒ–ãƒ©ãƒ³ãƒã¸ã® push ã‚’ãƒˆãƒªã‚¬ãƒ¼ã«è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
on:
  push:
    branches:
      - main    # æœ¬ç•ªã«ä½¿ã£ã¦ã„ã‚‹ãƒ–ãƒ©ãƒ³ãƒåã‚’æŒ‡å®š

jobs:
  deploy:
    runs-on: ubuntu-latest
    # Secrets â†’ GITHUB_TOKEN ã¯ãƒªãƒã‚¸ãƒˆãƒªä½œæˆæ™‚ã«è‡ªå‹•ã§ç”¨æ„ã•ã‚Œã‚‹
    steps:
      # ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ
      - uses: actions/checkout@v3

      # Pages ç”¨ã«ç’°å¢ƒã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
      - uses: actions/configure-pages@v3

      # ãƒ‡ãƒ—ãƒ­ã‚¤å¯¾è±¡ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
      - uses: actions/upload-pages-artifact@v1
        with:
          # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®ã—ã¦ã„ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã‚’æŒ‡å®š
          path: './'         # ãƒ«ãƒ¼ãƒˆç›´ä¸‹ãªã‚‰ './'ã€‚public ã‚„ docs ã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã¯ './public' ã‚„ './docs' ã«ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚

      # å®Ÿéš›ã« GitHub Pages ã«ãƒ‡ãƒ—ãƒ­ã‚¤
      - id: deploy-pages
        uses: actions/deploy-pages@v1

      # ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ãƒšãƒ¼ã‚¸ URL ã‚’å‡ºåŠ›
      - run: echo "ğŸ‰ Deployed to ${{ steps.deploy-pages.outputs.page_url }}"
